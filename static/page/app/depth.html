<div class="page text-warning ">
    <div class="row">
        <div class="col-md-8 pad-5" >
            <div data-slim-scroll data-scroll-height="{{height}}">
                <div ng-repeat="(key, symbol) in depth ">
                    <div class="col-md-4 pad-5" ng-if="settings.Items.symbol[key].amount>0">
                        <div class="panel panel-default " ng-class=" {'market-buy': settings.Items.symbol[key].color} ">
                            <div class="panel-heading">
                                <h3 class="panel-title">{{key}}行情<div class="pull-right"> 预留区域</div></h3>

                            </div>
                            <div class="panel-body pad-10 ">
                                <table class="table table-striped">
                                    <th>平台</th>
                                    <th>买盘</th>
                                    <th>卖盘</th>
                                    <tr ng-repeat="item in symbol">
                                        <td>{{item.platform|arrayAttr:platform.Items:'Name'}}</td>
                                        <td title="CNY:{{item._bids | number:2}}">{{item.bids | number:4}}</td>
                                        <td title="CNY:{{item._asks | number:2}}">{{item.asks | number:4}}</td>
                                    </tr>
                                    <tr ng-class="{'text-danger':profit[key]['surplus'].percent >= percent}" title="{{profit[key]['surplus'].formula}}">
                                        <td>顺差：</td>
                                        <td>{{profit[key]["surplus"].percent | number:2}}%</td>
                                        <td>{{profit[key]["surplus"].money| number:2}} (CNY)</td>
                                    </tr>
                                    <tr ng-class="{'text-danger':profit[key]['deficit'].percent >= percent}"  title="{{profit[key]['deficit'].formula}}">
                                        <td>逆差：</td>
                                        <td>{{profit[key]["deficit"].percent | number:2}}%</td>
                                        <td>{{profit[key]["deficit"].money| number:2}} (CNY)</td>
                                    </tr>

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="col-md-4 np mt-10">
            <div data-slim-scroll data-scroll-height="{{height}}">


                <div class="panel panel-default  mb-5">
                    <div class="panel-body  pad-5">
                        <tabset>
                            <tab heading="差值排序" ng-click="active(0);">
                                <div class="col-md-6 pad-5">
                                    <div class="panel-body pad-5">
                                        <table class="table table-striped mb-5" >
                                            <th>币种</th>
                                            <th>顺差</th>
                                            <th>操作</th>
                                        </table>
                                        <div data-slim-scroll data-scroll-height="242">
                                            <table class="table table-striped">
                                                <tr ng-repeat="item in sortList | orderBy :['-surplus']">
                                                    <td>{{item.symbol}}</td>
                                                    <td>{{item.surplus  | number:2}}%</td>
                                                    <td><a ng-click="addOrder(item.symbol, 0);" class="btn btn-default btn-sm" >交易</a></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 pad-5">
                                    <div class="panel-body pad-5">
                                        <table class="table table-striped mb-5" >
                                            <th>币种</th>
                                            <th>逆差</th>
                                            <th>操作</th>
                                        </table>
                                        <div data-slim-scroll data-scroll-height="242">

                                                <table class="table table-striped">
                                                    <tr ng-repeat="item in sortList | orderBy :['-deficit']">
                                                        <td>{{item.symbol}}</td>
                                                        <td>{{item.deficit | number:2}}%</td>
                                                        <td><a ng-click="addOrder(item.symbol, 1);" class="btn btn-default btn-sm" ng-if="tab<4">交易</a></td>
                                                    </tr>
                                                </table>

                                        </div>
                                    </div>
                                </div>
                            </tab>
 							

                            <tab heading="基础设置" ng-click="active(1);" >
                                <div data-slim-scroll data-scroll-height="250">
	                                <form class="form-horizontal mt-10" role="form">
										<div class="col-md-6">
	                                        <div class="form-group">
	                                            <label class="col-sm-4 control-label">火币</label>
	                                            <div class="col-sm-8">
	                                                <div class="input-group">
	                                                    <input type="number" class="form-control" ng-model="settings.Items.rate['1']"
	                                                           placeholder="火币网"
	                                                           ng-required="true">
	                                                    <span class="input-group-addon">汇率</span>
	                                                </div>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class="col-md-6">
	                                        <div class="form-group">
	                                            <label class="col-sm-4 control-label">韩币</label>
	                                            <div class="col-sm-8">
	                                                <div class="input-group">
	                                                    <input type="number" class="form-control" ng-model="settings.Items.rate['2']"
	                                                           placeholder="韩币网"
	                                                           ng-required="true">
														<span class="input-group-addon">汇率</span>
	                                                    
	                                                </div>
	                                            </div>
	                                        </div>
	                                    </div>

	                                   
	                                    <div class="col-md-6">
	                                        <div class="form-group">
	                                            <label class="col-sm-4 control-label">模式</label>
	                                            <div class="col-sm-8">
	                                                <select class="form-control"
	                                                        ng-model="settings.Items.mode"
	                                                        ng-options="sel.Id as sel.Name for sel in select.mode">
	                                                </select>
	
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class="col-md-6">
	                                        <div class="form-group">
	                                            <label class="col-sm-4 control-label">下单</label>
	                                            <div class="col-sm-8">
	                                                <select class="form-control"
	                                                        ng-model="settings.Items.order"
	                                                        ng-options="sel.Id as sel.Name for sel in select.order">
	                                                </select>
	                                            </div>
	                                        </div>
	                                    </div>

	 									<div class="col-md-6">
	                                        <div class="form-group">
	                                            <label class="col-sm-4 control-label">顺差</label>
	                                            <div class="col-sm-8">
	                                                <div class="input-group">
	                                                    <input type="number" class="form-control" ng-model="settings.Items.surplus"
	                                                           placeholder="顺差"
	                                                           ng-required="true">
	                                                    <span class="input-group-addon">%</span>
	                                                </div>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class="col-md-6">
	                                        <div class="form-group">
	                                            <label class="col-sm-4 control-label">逆差</label>
	                                            <div class="col-sm-8">
	                                                <div class="input-group">
	                                                    <input type="number" class="form-control" ng-model="settings.Items.deficit"
	                                                           placeholder="逆差"
	                                                           ng-required="true">
	                                                    <span class="input-group-addon">%</span>
	                                                </div>
	                                            </div>
	                                        </div>
	                                    </div>
										
	
	                                </form>
								
                                </div>

                            </tab>
                            <tab heading="数量设置"   ng-click="active(2);">
                                <form class="form-horizontal mt-10" role="form">

                                    <div class="col-md-6" ng-repeat="(key, item) in settings.Items.symbol">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">{{key}}</label>
                                            <div class="col-sm-8">
                                                <div class="input-group">
                                                    <input type="number" class="form-control" ng-model="item.amount"
                                                           placeholder="{{key}}交易数量"
                                                           ng-required="true">
                                                    <span class="input-group-addon">个</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </form>
                            </tab>
                            <tab heading="费用设置"  ng-click="active(3);" >
                                <div class="panel-body pad-5">
                                    <table class="table table-striped mb-5" >
                                        <th>币种</th>
                                        <th>火币交易费</th>
                                        <th>火币转账费</th>
                                        <th>韩币交易费</th>
                                        <th>韩币转账费</th>
                                    </table>
                                    <div data-slim-scroll data-scroll-height="201">
                                        <form class="form-horizontal" role="form">
                                            <table class="table table-striped">
                                                <tr ng-repeat="(key, item) in settings.Items.symbol">
                                                    <td> {{key}}</td>

                                                    <td>
                                                        <div class="input-group">
                                                            <input type="number" class="form-control" ng-model="item.fee['1'][0]"
                                                                   placeholder="交易费"
                                                                   ng-required="true">
                                                            <span class="input-group-addon">%</span>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input type="number" class="form-control" ng-model="item.fee['1'][1]"
                                                               placeholder="转账费"
                                                               ng-required="true">
                                                    </td>

                                                    <td>
                                                        <div class="input-group">
                                                            <input type="number" class="form-control" ng-model="item.fee['2'][0]"
                                                                   placeholder="交易费"
                                                                   ng-required="true">
                                                            <span class="input-group-addon">%</span>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input type="number" class="form-control" ng-model="item.fee['2'][1]"
                                                               placeholder="转账费"
                                                               ng-required="true">
                                                    </td>
                                                </tr>
                                            </table>
                                        </form>
                                    </div>
                                </div>

                            </tab>

                            <tab heading="资产状况"  ng-click="active(4);" >

                                <div class="panel panel-default  mb-5">

                                    <div class="panel-body pad-5">
                                        <table class="table table-striped mb-5" >
                                            <th width="30%">币种</th>
                                            <th width="30%">可用/冻结（火）</th>
                                            <th width="30%">可用/冻结（韩）</th>
                                            <th width="10%">操作</th>
                                        </table>

                                        <div data-slim-scroll data-scroll-height="196">

                                            <table class="table table-striped" >
                                                <tr  ng-if="balance.Items.HuobiTrade['Money']>0 || balance.Items.HuobiFrozen['Money']>0 || balance.Items.BithumbTrade['Money']>0 || balance.Items.BithumbFrozen['Money']>0">
                                                    <td width="30%">现金(CNY)</td>
                                                    <td width="30%">{{balance.Items.HuobiTrade["Money"] * 7 | number:2}} / {{balance.Items.HuobiFrozen["Money"] * 7 | number:2}}</td>
                                                    <td width="30%">{{balance.Items.BithumbTrade["Money"] * 0.006 | number:2}} / {{balance.Items.BithumbFrozen["Money"]* 0.006 | number:2}}</td>
                                                    <td width="10%"><a ng-click="save();" class="btn btn-default btn-sm" >平衡</a></td>
                                                </tr>
                                                <tr ng-if="balance.Items.HuobiTrade[key]>0 || balance.Items.HuobiFrozen[key]>0 || balance.Items.BithumbTrade[key]>0 || balance.Items.BithumbFrozen[key]>0" ng-repeat="(key, item) in settings.Items.symbol">
                                                    <td width="30%"> {{key}}</td>
                                                    <td width="30%">{{balance.Items.HuobiTrade[key]}}/{{balance.Items.HuobiFrozen[key]}}</td>
                                                    <td width="30%">{{balance.Items.BithumbTrade[key]}}/{{balance.Items.BithumbFrozen[key]}}</td>
                                                    <td width="10%"><a ng-click="save();" class="btn btn-default btn-sm" >平衡</a></td>
                                                </tr>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                            </tab>
                        </tabset>
                    </div>
                    <div class="modal-footer" ng-if="tab!=0">
                        <div class="btn-group pull-right">
                            <a ng-click="settingsSave();" class="btn btn-default btn-sm" ng-if="tab<4">保存</a>
                            <a ng-click="getBalance();" class="btn btn-default btn-sm" ng-if="tab==4">刷新</a>
                        </div>
                    </div>
                </div>


                <div class="panel panel-default mb-5">
                    <div class="panel-heading pad-10">
                        <div class="btn-group pull-right">
                            <a href="#" class="btn btn-default btn-sm">清空</a>
                        </div>
                        <h6>交易中订单</h6>
                    </div>
                    <div class="panel-body pad-5">
                        <table class="table table-striped mb-5">
                            <th width="10%">模式</th>
                            <th width="10%">类型</th>
                            <th>买价</th>
                            <th>卖价</th>
                            <th>数量</th>
                            <th>赢利</th>
                            <th>金钱</th>
                            <th>状态</th>
                        </table>
                        <div data-slim-scroll data-scroll-height="100">
                            <table class="table table-striped">
                                <tr ng-repeat="(key, item) in transactionList">
                                    <td width="10%">{{item.mode|arrayAttr:select.mode:'Name'}}</td>
                                    <td width="10%">{{item.type|arrayAttr:select.type:'Name'}}</td>
                                    <td>{{item.buy| number:2}}</td>
                                    <td>{{item.sell| number:2}}</td>
                                    <td>{{item.amount}}</td>
                                    <td>{{item.percent| number:2}}%</td>
                                    <td>{{item.money| number:2}}</td>
                                    <td ng-if="item.state==1">交易中</td>
                                    <td ng-if="item.state==2">交易中</td>
                                    <td ng-if="item.state==3">交易中</td>
                                </tr>

                            </table>
                        </div>
                    </div>
                </div>



                <div class="panel panel-default mb-5">
                    <div class="panel-heading pad-10">
                        <div class="btn-group pull-right">
                            <a ng-click="message=[];" class="btn btn-default btn-sm">清空</a>
                        </div>
                        <h6>可交易的订单</h6>
                    </div>
                    <div class="panel-body pad-5">
                        <table class="table table-striped mb-5">
                            <th width="10%">编号</th>
                            <th width="10%">币种</th>
                            <th width="20%">数量</th>
                            <th width="20%">赢利比</th>
                            <th width="20%">盈利额</th>
                            <th width="10%">操作</th>
                        </table>
                        <div data-slim-scroll data-scroll-height="{{height-653}}">

                            <table class="table table-striped" >

                                <tr id="message" ng-repeat="(key, msg) in message | orderBy:['-index']">

                                    <td width="10%">{{msg.index}}</td>
                                    <td width="10%">{{msg.symbol}}</td>
                                    <td width="20%">{{msg.amount}}</td>
                                    <td width="20%">{{msg.percent| number:2}}%</td>
                                    <td width="20%">{{msg.money| number:2}}</td>
                                    <td width="10%"><a ng-click="addTransaction(key);" class="btn btn-default btn-sm">交易</a></td>
                                </tr>

                            </table>
                        </div>
                    </div>
                </div>




            </div>

        </div>


    </div>
</div>
<!-- Flot Chart Body End -->